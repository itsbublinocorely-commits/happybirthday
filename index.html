<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday My Gurl!</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Comic Sans MS", cursive, sans-serif;
      }

      body {
        background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        height: 100vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
      }

      .container {
        text-align: center;
        z-index: 10;
        padding: 2rem;
        max-width: 800px;
        background-color: rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        backdrop-filter: blur(5px);
        box-shadow: 0 8px 32px rgba(255, 105, 180, 0.3);
        transition: all 0.5s ease;
      }

      .container:hover {
        box-shadow: 0 8px 32px rgba(255, 105, 180, 0.5);
      }

      h1 {
        font-size: 3.5rem;
        color: #ff1493;
        text-shadow: 2px 2px 8px rgba(255, 255, 255, 0.8);
        margin-bottom: 1.5rem;
        opacity: 0;
        animation: bounce-in 1.5s forwards 0.5s;
      }

      .subtitle {
        font-size: 1.8rem;
        color: #8a2be2;
        margin-bottom: 2rem;
        text-shadow: 1px 1px 4px rgba(255, 255, 255, 0.6);
        opacity: 0;
      }

      .next-button {
        padding: 1rem 3rem;
        font-size: 1.5rem;
        background: linear-gradient(45deg, #ff1493, #8a2be2);
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(255, 20, 147, 0.5);
        transition: all 0.3s ease;
        opacity: 0;
        animation: fade-in 1s forwards 3s;
      }

      .next-button:hover {
        transform: scale(1.05) translateY(-5px);
        box-shadow: 0 6px 20px rgba(255, 20, 147, 0.7);
        background: linear-gradient(45deg, #8a2be2, #ff1493);
      }

      .audio-controls {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: rgba(255, 255, 255, 0.8);
        padding: 10px 12px;
        border-radius: 999px;
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 100;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        transition: opacity 0.4s ease, transform 0.4s ease;
      }

      .audio-controls button {
        background: none;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        color: #ff1493;
        transition: all 0.3s ease;
        width: 28px;
      }

      .audio-controls button:hover {
        transform: scale(1.15);
        color: #8a2be2;
      }

      .audio-controls input {
        width: 100px;
      }

      .confetti,
      .balloon,
      .heart,
      .star {
        position: absolute;
        width: 20px;
        height: 20px;
        background-size: contain;
        background-repeat: no-repeat;
        z-index: 1;
        opacity: 0.85;
        pointer-events: none;
      }

      .balloon {
        width: 40px;
        height: 50px;
      }

      .heart {
        width: 25px;
        height: 25px;
      }

      .star {
        width: 15px;
        height: 15px;
      }

      @keyframes bounce-in {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        60% {
          transform: scale(1.1);
          opacity: 1;
        }
        80% {
          transform: scale(0.9);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes fade-in {
        0% {
          opacity: 0;
          transform: translateY(20px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes typewriter {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }

      .typewriter-container {
        display: inline-block;
        margin: 0 auto;
        position: relative;
        max-width: 100%;
        overflow: hidden;
        height: 2.5rem;
      }

      .typewriter-text {
        position: relative;
        white-space: nowrap;
        overflow: hidden;
        width: 0;
        animation: typewriter 3s steps(50) forwards 1.5s;
      }

      .cursor {
        position: absolute;
        right: -5px;
        width: 3px;
        height: 100%;
        background-color: #8a2be2;
        animation: blink 0.8s infinite;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }

      /* Gift Intro */
      body.intro-active .container,
      body.intro-active .audio-controls {
        opacity: 0;
        pointer-events: none;
        transform: translateY(12px) scale(0.98);
      }

      .gift-intro {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(
          circle at center,
          rgba(255, 255, 255, 0.3),
          rgba(255, 20, 147, 0.12)
        );
        z-index: 9999;
        transition: opacity 0.6s ease, visibility 0.6s ease;
      }

      .gift-intro.hide {
        opacity: 0;
        visibility: hidden;
      }

      .gift-box {
        position: relative;
        width: 150px;
        height: 150px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        outline: none;
        animation: giftFloat 2s ease-in-out infinite;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
      }

      @keyframes giftFloat {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-8px);
        }
      }

      .gift-base {
        position: absolute;
        bottom: 18px;
        width: 120px;
        height: 88px;
        background: linear-gradient(135deg, #ff5fa2, #ff1493);
        border-radius: 10px;
        border: 3px solid rgba(255, 255, 255, 0.8);
      }

      .gift-lid {
        position: absolute;
        top: 14px;
        width: 130px;
        height: 34px;
        background: linear-gradient(135deg, #8a2be2, #b56bff);
        border-radius: 10px;
        border: 3px solid rgba(255, 255, 255, 0.8);
        transform-origin: left center;
        z-index: 3;
        transition: transform 0.5s ease;
      }

      .gift-ribbon-v {
        position: absolute;
        bottom: 18px;
        width: 16px;
        height: 88px;
        background: #ffd700;
        border-radius: 3px;
        z-index: 2;
      }

      .gift-ribbon-h {
        position: absolute;
        top: 28px;
        width: 130px;
        height: 12px;
        background: #ffd700;
        border-radius: 3px;
        z-index: 4;
      }

      .gift-bow {
        position: absolute;
        top: -16px;
        width: 22px;
        height: 22px;
        border: 5px solid #ffd700;
        border-radius: 50% 50% 50% 0;
        background: transparent;
      }

      .bow-left {
        left: 44px;
        transform: rotate(-35deg);
      }

      .bow-right {
        right: 44px;
        transform: scaleX(-1) rotate(-35deg);
      }

      .gift-knot {
        position: absolute;
        top: -7px;
        left: 50%;
        transform: translateX(-50%);
        width: 12px;
        height: 12px;
        background: #ffd700;
        border-radius: 50%;
      }

      .gift-hint {
        position: absolute;
        bottom: -34px;
        width: max-content;
        color: #fff;
        font-size: 0.95rem;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.35);
        animation: pulseHint 1.1s infinite;
      }

      @keyframes pulseHint {
        0%,
        100% {
          opacity: 0.8;
          transform: translateY(0);
        }
        50% {
          opacity: 1;
          transform: translateY(-2px);
        }
      }

      .gift-box.opening {
        animation: none;
      }

      .gift-box.opening .gift-lid {
        transform: translate(-8px, -24px) rotate(-28deg);
      }

      .gift-box.opening .gift-hint {
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .gift-particle {
        position: fixed;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        pointer-events: none;
        z-index: 10000;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 2.5rem;
        }
        .subtitle {
          font-size: 1.3rem;
        }
        .container {
          width: 90%;
          padding: 1.5rem;
        }
        .next-button {
          padding: 0.8rem 2rem;
          font-size: 1.2rem;
        }
        .audio-controls {
          bottom: 10px;
          right: 10px;
        }
      }
    </style>
  </head>
  <body class="intro-active">
    <!-- Gift Intro Overlay -->
    <div id="giftIntro" class="gift-intro">
      <div id="giftBox" class="gift-box" role="button" tabindex="0" aria-label="Open gift">
        <div class="gift-lid">
          <div class="gift-bow bow-left"></div>
          <div class="gift-bow bow-right"></div>
          <div class="gift-knot"></div>
        </div>
        <div class="gift-base"></div>
        <div class="gift-ribbon-v"></div>
        <div class="gift-ribbon-h"></div>
        <div class="gift-hint">Tap to open your gift üéÅ</div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container">
      <h1>üéâ Happy Birthday üéâ <br />üíï BYYY üíï <br />üéâüéÇ</h1>

      <div class="typewriter-container">
        <div class="subtitle typewriter-text">
          Hey Byyy! Ready for your special surprise? Click to continue!
          <span class="cursor"></span>
        </div>
      </div>

      <button class="next-button" onclick="goToNextPage()">Let's Go! ‚ú®</button>
    </div>

    <!-- Audio Controls -->
    <div class="audio-controls">
      <button id="play-pause" aria-label="Play or pause music">‚ñ∂Ô∏è</button>
      <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5" />
    </div>

    <!-- Audio -->
    <audio id="birthday-song" loop>
      <source src="Happy-birtdaymusic.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>

    <script>
      // Audio setup
      const audio = document.getElementById("birthday-song");
      const playPauseBtn = document.getElementById("play-pause");
      const volumeControl = document.getElementById("volume");
      let isPlaying = false;
      let effectsStarted = false;

      audio.volume = parseFloat(volumeControl.value);

      function updatePlayButton() {
        playPauseBtn.textContent = audio.paused ? "‚ñ∂Ô∏è" : "‚è∏Ô∏è";
      }

      function startBirthdayMusic() {
        audio
          .play()
          .then(() => {
            isPlaying = true;
            updatePlayButton();
          })
          .catch((err) => {
            console.log("Music start blocked:", err);
          });
      }

      playPauseBtn.addEventListener("click", () => {
        if (audio.paused) {
          audio.play().then(() => {
            isPlaying = true;
            updatePlayButton();
          }).catch(() => {});
        } else {
          audio.pause();
          isPlaying = false;
          updatePlayButton();
        }
      });

      volumeControl.addEventListener("input", () => {
        audio.volume = parseFloat(volumeControl.value);
      });

      // Next page button
      function goToNextPage() {
        gsap.to(".next-button", {
          scale: 1.15,
          yoyo: true,
          repeat: 1,
          duration: 0.25,
          onComplete: () => {
            window.location.href = "memorylane.html";
          }
        });
      }

      // Floating elements
      function createFloatingElements() {
        const colors = ["#FF1493", "#8A2BE2", "#FFD700", "#FF4500", "#00BFFF", "#32CD32"];
        const elements = ["confetti", "balloon", "heart", "star"];
        const confettiShapes = ["‚ñ≤", "‚ñ†", "‚óè", "‚òÖ", "‚ô•", "‚ô¶", "‚ú¶", "‚úß"];

        for (let i = 0; i < 70; i++) {
          setTimeout(() => {
            const element = document.createElement("div");
            const elementType = elements[Math.floor(Math.random() * elements.length)];
            element.className = elementType;

            element.style.left = Math.random() * 100 + "vw";
            element.style.top = "-30px";

            const color = colors[Math.floor(Math.random() * colors.length)];

            if (elementType === "confetti") {
              const shape = confettiShapes[Math.floor(Math.random() * confettiShapes.length)];
              element.innerHTML = shape;
              element.style.color = color;
              element.style.fontSize = Math.random() * 20 + 10 + "px";
              element.style.transform = `rotate(${Math.random() * 360}deg)`;
            } else if (elementType === "balloon") {
              element.innerHTML = "üéà";
              element.style.fontSize = Math.random() * 30 + 20 + "px";
              element.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
            } else if (elementType === "heart") {
              element.innerHTML = "‚ù§Ô∏è";
              element.style.fontSize = Math.random() * 20 + 10 + "px";
              element.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
            } else if (elementType === "star") {
              element.innerHTML = "‚ú®";
              element.style.fontSize = Math.random() * 15 + 10 + "px";
            }

            document.body.appendChild(element);

            gsap.to(element, {
              y: window.innerHeight + 100,
              x: "+=" + (Math.random() * 200 - 100),
              rotation: Math.random() * 360,
              duration: Math.random() * 8 + 5,
              ease: "power1.out",
              onComplete: () => {
                if (element.parentNode) element.parentNode.removeChild(element);
              }
            });

            if (Math.random() > 0.7) {
              gsap.to(element, {
                opacity: 0.5,
                yoyo: true,
                repeat: -1,
                duration: 0.5,
                ease: "sine.inOut"
              });
            }
          }, i * 120);
        }
      }

      function startFloatingLoop() {
        if (effectsStarted) return;
        effectsStarted = true;
        createFloatingElements();
        setInterval(createFloatingElements, 5000);
      }

      // Gift burst fireworks
      const giftIntro = document.getElementById("giftIntro");
      const giftBox = document.getElementById("giftBox");

      function createGiftFireworksBurst() {
        const rect = giftBox.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;

        const colors = ["#FF1493", "#8A2BE2", "#FFD700", "#00BFFF", "#32CD32", "#FF4500"];

        for (let i = 0; i < 36; i++) {
          const p = document.createElement("div");
          p.className = "gift-particle";
          p.style.left = `${cx}px`;
          p.style.top = `${cy}px`;
          p.style.background = colors[Math.floor(Math.random() * colors.length)];
          document.body.appendChild(p);

          const angle = (Math.PI * 2 * i) / 36;
          const distance = 80 + Math.random() * 160;

          gsap.to(p, {
            x: Math.cos(angle) * distance,
            y: Math.sin(angle) * distance,
            scale: 0.2,
            opacity: 0,
            duration: 1 + Math.random() * 0.6,
            ease: "power2.out",
            onComplete: () => p.remove()
          });
        }

        const emojis = ["‚ú®", "üéâ", "üíñ", "üéà", "üéÇ"];
        for (let i = 0; i < 14; i++) {
          const e = document.createElement("div");
          e.style.position = "fixed";
          e.style.left = `${cx}px`;
          e.style.top = `${cy}px`;
          e.style.fontSize = `${16 + Math.random() * 16}px`;
          e.style.pointerEvents = "none";
          e.style.zIndex = "10001";
          e.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          document.body.appendChild(e);

          gsap.to(e, {
            x: (Math.random() - 0.5) * 260,
            y: -80 - Math.random() * 180,
            rotation: (Math.random() - 0.5) * 180,
            opacity: 0,
            duration: 1.4 + Math.random() * 0.6,
            ease: "power2.out",
            onComplete: () => e.remove()
          });
        }
      }

      function openGiftIntro() {
        if (giftBox.classList.contains("opening")) return;

        giftBox.classList.add("opening");

        // Start music on real user click
        startBirthdayMusic();

        gsap.to(giftBox, {
          scale: 1.08,
          duration: 0.18,
          yoyo: true,
          repeat: 1
        });

        setTimeout(() => {
          createGiftFireworksBurst();
        }, 220);

        setTimeout(() => {
          giftIntro.classList.add("hide");
          document.body.classList.remove("intro-active");
          startFloatingLoop();
        }, 1100);
      }

      giftBox.addEventListener("click", openGiftIntro);
      giftBox.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          openGiftIntro();
        }
      });

      // Heading sparkle animation
      gsap.to("h1", {
        textShadow:
          "0 0 10px rgba(255, 255, 255, 1), 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 20, 147, 0.6)",
        repeat: -1,
        yoyo: true,
        duration: 2
      });

      // Responsive hook
      window.addEventListener("resize", () => {});
      updatePlayButton();
    </script>
  </body>
</html>